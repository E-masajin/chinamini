# ã„ã¤ã§ã‚‚ã‚¯ã‚¤ã‚º

æœŸé–“é™å®šãƒ»1å›ã®ã¿å›ç­”å¯èƒ½ãªãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ‰ã‚¯ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**åç§°**: ã„ã¤ã§ã‚‚ã‚¯ã‚¤ã‚º  
**ç›®çš„**: ä¼æ¥­ã‚¤ãƒ™ãƒ³ãƒˆã‚„äº¤æµä¼šã§æ´»ç”¨ã§ãã‚‹å…¬å¹³ãªã‚¯ã‚¤ã‚ºãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ   

### ä¸»ãªç‰¹å¾´

- **3ã¤ã®å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰**: å€‹äººæˆ¦ãƒ»ãƒãƒ¼ãƒ æˆ¦ãƒ»ä¼æ¥­æˆ¦
- **æœªæ¥äºˆæ¸¬ã‚¯ã‚¤ã‚º**: è¨˜å…¥å¼ã§æœªæ¥ã‚’äºˆæ¸¬ã™ã‚‹ã‚¯ã‚¤ã‚ºãƒ¢ãƒ¼ãƒ‰
- **AIæ©Ÿèƒ½**:
  - **AIæŸ”è»Ÿåˆ¤å®š**: OpenAI APIã§è¨˜å…¥å¼å›ç­”ã‚’æŸ”è»Ÿã«è©•ä¾¡ï¼ˆè¡¨è¨˜æºã‚Œè¨±å®¹ï¼‰
  - **AIå•é¡Œç”Ÿæˆ**: ãƒ†ãƒ¼ãƒã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§äºˆæ¸¬å•é¡Œã‚’è‡ªå‹•ç”Ÿæˆ
- **ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**:
  - ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ­£è§£+10ptã€å…¨å•æ­£è§£ãƒœãƒ¼ãƒŠã‚¹+50ptï¼‰
  - 11ç¨®é¡ã®ãƒãƒƒã‚¸ï¼ˆäºˆæ¸¬ãƒã‚¹ã‚¿ãƒ¼ã€é€£ç¶šæ­£è§£ç‹ãªã©ï¼‰
  - ç·åˆ/é€±é–“/æœˆé–“ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- **æœŸé–“é™å®šã‚¢ã‚¯ã‚»ã‚¹**: é–‹å§‹æ—¥ã€œçµ‚äº†æ—¥ã®é–“ã®ã¿å‚åŠ å¯èƒ½
- **1å›ã®ã¿å›ç­”åˆ¶é™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«1å›ã®ã¿å›ç­”å¯èƒ½
- **IDç´ä»˜ã‘å•é¡ŒæŒ¯ã‚Šåˆ†ã‘**: ã‚«ãƒ³ãƒ‹ãƒ³ã‚°é˜²æ­¢ã®ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‹ã‚‰å•é¡Œç¾¤ã‚’è‡ªå‹•æ±ºå®š
- **é«˜åº¦ãªãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½**: 
  - å€‹äººãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆã‚¹ã‚³ã‚¢é †ãƒ»å›ç­”æ™‚é–“é †ï¼‰
  - ãƒãƒ¼ãƒ /ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆå¹³å‡æ­£ç­”ç‡ãƒ»å¹³å‡å›ç­”æ™‚é–“ï¼‰
  - æœ€ä½å‚åŠ äººæ•°è¨­å®š
- **ç®¡ç†è€…ç”»é¢**: ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒ»å•é¡Œç®¡ç†ãƒ»å‚åŠ è€…ç®¡ç†

## ğŸŒ URLs

- **é–‹ç™ºç’°å¢ƒ**: https://3000-ij8kn2qe6mtefy1cqmqbl-8f57ffe2.sandbox.novita.ai
- **ç®¡ç†è€…ç”»é¢**: https://3000-ij8kn2qe6mtefy1cqmqbl-8f57ffe2.sandbox.novita.ai/admin
- **GitHub**: https://github.com/E-masajin/chinamini
- **æœ¬ç•ªç’°å¢ƒ**: ï¼ˆæœªãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

**ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«**:

1. **events** - ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆå¤§ä¼šï¼‰æƒ…å ±
   - `id`, `name`, `description`, `start_date`, `end_date`
   - `questions_per_user`, `mode` (å€‹äºº/ãƒãƒ¼ãƒ /ä¼æ¥­)
   - `min_participants` (æœ€ä½å‚åŠ äººæ•°), `is_active`

2. **questions** - å•é¡Œãƒ—ãƒ¼ãƒ«
   - `id`, `event_id`, `question_text`
   - `option_a/b/c/d`, `correct_answer`
   - `pool_group` (0-9ã®å•é¡Œç¾¤)

3. **users** - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
   - `id`, `user_id` (ç¤¾å“¡ç•ªå·ãªã©), `name`
   - `team_name`, `company_name`

4. **answers** - å›ç­”è¨˜éŒ²
   - `id`, `user_id`, `event_id`, `question_id`
   - `user_answer`, `is_correct`

5. **user_event_status** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ã‚¤ãƒ™ãƒ³ãƒˆå‚åŠ çŠ¶æ…‹
   - `id`, `user_id`, `event_id`
   - `has_completed`, `score`
   - `started_at`, `completed_at`, `answer_duration`

6. **admins** - ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
   - `id`, `username`, `password_hash`

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹

- **Cloudflare D1**: SQLiteãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«åˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º: `.wrangler/state/v3/d1/` ã«è‡ªå‹•ä½œæˆ
  - æœ¬ç•ªç’°å¢ƒ: Cloudflare D1ã«ãƒ‡ãƒ—ãƒ­ã‚¤

### å•é¡ŒæŒ¯ã‚Šåˆ†ã‘ãƒ­ã‚¸ãƒƒã‚¯

```typescript
// ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®æœ«å°¾1æ–‡å­—ã‹ã‚‰å•é¡Œç¾¤ï¼ˆ0-9ï¼‰ã‚’æ±ºå®š
function getPoolGroup(userId: string): number {
  const lastChar = userId.slice(-1)
  const num = parseInt(lastChar, 10)
  return isNaN(num) ? 0 : num
}
```

**ä¾‹**:
- ID "00001" â†’ å•é¡Œç¾¤1
- ID "00002" â†’ å•é¡Œç¾¤2
- ID "ABC10" â†’ å•é¡Œç¾¤0

### ãƒ©ãƒ³ã‚­ãƒ³ã‚°é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯

**å€‹äººãƒ©ãƒ³ã‚­ãƒ³ã‚°**:
- ç¬¬ä¸€å„ªå…ˆ: ã‚¹ã‚³ã‚¢ï¼ˆæ­£ç­”æ•°ï¼‰
- ç¬¬äºŒå„ªå…ˆ: å›ç­”æ™‚é–“ï¼ˆçŸ­ã„æ–¹ãŒä¸Šä½ï¼‰
- ç¬¬ä¸‰å„ªå…ˆ: å›ç­”å®Œäº†æ™‚åˆ»ï¼ˆæ—©ã„æ–¹ãŒä¸Šä½ï¼‰

**ãƒãƒ¼ãƒ /ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°**:
- ç¬¬ä¸€å„ªå…ˆ: å¹³å‡æ­£ç­”ç‡ï¼ˆ%ï¼‰
- ç¬¬äºŒå„ªå…ˆ: å¹³å‡å›ç­”æ™‚é–“ï¼ˆç§’ï¼‰
- æœ€ä½å‚åŠ äººæ•°ã«æº€ãŸãªã„ãƒãƒ¼ãƒ /ä¼æ¥­ã¯è¡¨ç¤ºã•ã‚Œãªã„

## ğŸ“– ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

1. **ãƒ­ã‚°ã‚¤ãƒ³**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆç¤¾å“¡ç•ªå·ãªã©ï¼‰ã‚’å…¥åŠ›
   - ä»»æ„ã§åå‰ã‚’å…¥åŠ›
   - ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ¢ãƒ¼ãƒ‰ã«å¿œã˜ã¦ï¼š
     - **ãƒãƒ¼ãƒ æˆ¦**: ãƒãƒ¼ãƒ åã‚’å…¥åŠ›
     - **ä¼æ¥­æˆ¦**: ä¼æ¥­åã‚’å…¥åŠ›

2. **ã‚¯ã‚¤ã‚ºé–‹å§‹**
   - ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã¨ãƒ¢ãƒ¼ãƒ‰ã‚’ç¢ºèª
   - ã€Œã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - âš ï¸ é–‹å§‹ã™ã‚‹ã¨é€”ä¸­ã§ä¸­æ–­ã§ãã¾ã›ã‚“

3. **å›ç­”**
   - å…¨å•é¡Œã«å›ç­”
   - å›ç­”æ™‚é–“ãŒè‡ªå‹•è¨ˆæ¸¬ã•ã‚Œã‚‹
   - é€²æ—ãƒãƒ¼ã§å›ç­”çŠ¶æ³ã‚’ç¢ºèª

4. **çµæœç¢ºèª**
   - ã‚¹ã‚³ã‚¢ã¨æ­£ç­”ç‡ã‚’è¡¨ç¤º
   - å›ç­”æ™‚é–“ã‚’è¡¨ç¤º
   - å€‹äººé †ä½ã‚’ç¢ºèª
   - å›ç­”è©³ç´°ï¼ˆæ­£è§£/ä¸æ­£è§£ï¼‰ã‚’ç¢ºèª

5. **ãƒ©ãƒ³ã‚­ãƒ³ã‚°**
   - **å€‹äººãƒ©ãƒ³ã‚­ãƒ³ã‚°**: å…¨å‚åŠ è€…ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°
   - **ãƒãƒ¼ãƒ /ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°**: å¹³å‡æ­£ç­”ç‡é †ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°

### ç®¡ç†è€…å‘ã‘

**ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±**:
- URL: `/admin`
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: `admin` / `admin123`

**ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†**:
- ã‚¤ãƒ™ãƒ³ãƒˆã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ãƒ¢ãƒ¼ãƒ‰è¨­å®šï¼ˆå€‹äººæˆ¦/ãƒãƒ¼ãƒ æˆ¦/ä¼æ¥­æˆ¦ï¼‰
- æœŸé–“è¨­å®š
- å•é¡Œæ•°è¨­å®š
- æœ€ä½å‚åŠ äººæ•°è¨­å®š

**å•é¡Œç®¡ç†**:
- å•é¡Œã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- å•é¡Œç¾¤ï¼ˆ0-9ï¼‰ã®è¨­å®š
- é¸æŠè‚¢ã¨æ­£è§£ã®è¨­å®š

**å‚åŠ è€…ç®¡ç†**:
- å‚åŠ è€…ä¸€è¦§ã®é–²è¦§
- ã‚¹ã‚³ã‚¢ã¨å›ç­”æ™‚é–“ã®ç¢ºèª
- ãƒãƒ¼ãƒ /ä¼æ¥­æƒ…å ±ã®ç¢ºèª

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### é–‹ç™ºç’°å¢ƒ

- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Cloudflare Pages (Sandbox)
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… ç¨¼åƒä¸­
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: 
  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: Hono (TypeScript)
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Vanilla JavaScript + TailwindCSS
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: Cloudflare D1 (SQLite)
- **æœ€çµ‚æ›´æ–°**: 2025-12-26

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.dev.varsï¼‰
cat > .dev.vars << 'EOF'
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
EOF

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npm run db:migrate:local

# ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
npm run db:seed

# ãƒ“ãƒ«ãƒ‰
npm run build

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pm2 start ecosystem.config.cjs

# ãƒ­ã‚°ç¢ºèª
pm2 logs quiz-app --nostream

# ã‚µãƒ¼ãƒãƒ¼åœæ­¢
pm2 delete quiz-app
```

**AIæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ**:
```bash
# AIæŸ”è»Ÿåˆ¤å®šã®ãƒ†ã‚¹ãƒˆ
bash test_ai_verify.sh

# AIå•é¡Œç”Ÿæˆã®ãƒ†ã‚¹ãƒˆ
bash test_ai_generate.sh
```

### æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæœªå®Ÿæ–½ï¼‰

```bash
# Cloudflare D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
npx wrangler d1 create quiz-db-production

# wrangler.jsonc ã« database_id ã‚’è¨­å®š

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
npm run db:migrate:prod

# ãƒ‡ãƒ—ãƒ­ã‚¤
npm run deploy:prod
```

## âœ… å®Œæˆæ¸ˆã¿æ©Ÿèƒ½

### ã‚³ã‚¢æ©Ÿèƒ½
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ï¼ˆã‚·ãƒ³ãƒ—ãƒ«IDå…¥åŠ›ï¼‰
- âœ… 3ã¤ã®å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰ï¼ˆå€‹äºº/ãƒãƒ¼ãƒ /ä¼æ¥­ï¼‰
- âœ… æœªæ¥äºˆæ¸¬ã‚¯ã‚¤ã‚ºãƒ¢ãƒ¼ãƒ‰ï¼ˆè¨˜å…¥å¼ï¼‰
- âœ… æœŸé–“é™å®šã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- âœ… 1å›ã®ã¿å›ç­”åˆ¶é™
- âœ… IDç´ä»˜ã‘å•é¡ŒæŒ¯ã‚Šåˆ†ã‘ãƒ­ã‚¸ãƒƒã‚¯
- âœ… å›ç­”æ™‚é–“è¨ˆæ¸¬æ©Ÿèƒ½
- âœ… å‚åŠ æœŸé™ãƒ»ç­”ãˆç™ºè¡¨æ™‚åˆ»ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º

### AIæ©Ÿèƒ½ ğŸ¤–
- âœ… **AIæŸ”è»Ÿåˆ¤å®š**: è¨˜å…¥å¼å›ç­”ã‚’æŸ”è»Ÿã«è©•ä¾¡
  - è¡¨è¨˜æºã‚Œè¨±å®¹ï¼ˆä¾‹: ã€Œã‚«ãƒ¬ãƒ¼ã€ã€Œã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹ã€ã€Œãƒã‚­ãƒ³ã‚«ãƒ¬ãƒ¼ã€ï¼‰
  - æ™‚åˆ»ã®è¡¨è¨˜æºã‚Œè¨±å®¹ï¼ˆä¾‹: ã€Œ12:30ã€ã€Œ12æ™‚30åˆ†ã€ã€Œåˆå¾Œ0æ™‚åŠã€ï¼‰
  - æ•°å€¤ã®ç¯„å›²åˆ¤å®šï¼ˆÂ±5%ä»¥å†…ãªã‚‰æ­£è§£ï¼‰
  - å˜ä½ã®æœ‰ç„¡ã‚’ç„¡è¦–ï¼ˆä¾‹: ã€Œ800ã€ã€Œ800å††ã€ï¼‰
- âœ… **AIå•é¡Œç”Ÿæˆ**: ãƒ†ãƒ¼ãƒã‹ã‚‰äºˆæ¸¬å•é¡Œã‚’è‡ªå‹•ç”Ÿæˆ
  - ä¾‹: ã€Œã‚ªãƒ•ã‚£ã‚¹ã§ã®èº«è¿‘ãªäºˆæ¸¬ã€â†’ 3å•è‡ªå‹•ç”Ÿæˆ
  - è¨˜å…¥å¼å•é¡Œã«å¯¾å¿œ
  - å‚åŠ æœŸé™ãƒ»ç­”ãˆç™ºè¡¨æ™‚åˆ»ã‚’è‡ªå‹•è¨­å®š

### ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ ğŸ®
- âœ… **ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ **:
  - æ­£è§£: +10pt
  - å…¨å•æ­£è§£ãƒœãƒ¼ãƒŠã‚¹: +50pt
  - ãƒã‚¤ãƒ³ãƒˆå±¥æ­´è¨˜éŒ²
- âœ… **ãƒãƒƒã‚¸ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ11ç¨®é¡ï¼‰**:
  - äºˆæ¸¬ãƒã‚¹ã‚¿ãƒ¼ï¼ˆ10å›æ­£è§£ï¼‰
  - é€£ç¶šæ­£è§£ç‹ï¼ˆ5é€£ç¶šæ­£è§£ï¼‰
  - è‡ªä¿¡å®¶ï¼ˆè‡ªä¿¡åº¦5ã§5å›æ­£è§£ï¼‰
  - ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆé”æˆï¼ˆå…¨å•æ­£è§£3å›ï¼‰
  - ãªã©
- âœ… **ãƒã‚¤ãƒšãƒ¼ã‚¸**:
  - ç·åˆ/é€±é–“/æœˆé–“ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤º
  - ç²å¾—ãƒãƒƒã‚¸ä¸€è¦§
  - äºˆæ¸¬çµ±è¨ˆï¼ˆæ­£è§£æ•°ã€æ­£ç­”ç‡ã€æœ€é«˜é€£ç¶šæ­£è§£æ•°ï¼‰

### ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½
- âœ… å€‹äººãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆã‚¹ã‚³ã‚¢ãƒ»å›ç­”æ™‚é–“é †ï¼‰
- âœ… ãƒãƒ¼ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆå¹³å‡æ­£ç­”ç‡ãƒ»å¹³å‡æ™‚é–“ï¼‰
- âœ… ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆå¹³å‡æ­£ç­”ç‡ãƒ»å¹³å‡æ™‚é–“ï¼‰
- âœ… æœ€ä½å‚åŠ äººæ•°è¨­å®š
- âœ… ç·åˆ/é€±é–“/æœˆé–“ãƒã‚¤ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°

### ç®¡ç†è€…æ©Ÿèƒ½
- âœ… ç®¡ç†è€…èªè¨¼
- âœ… ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†UIï¼ˆCRUDï¼‰
- âœ… å•é¡Œç®¡ç†UIï¼ˆCRUDï¼‰
- âœ… å‚åŠ è€…ä¸€è¦§ãƒ»çµæœé–²è¦§
- âœ… äºˆæ¸¬ã‚¯ã‚¤ã‚ºã®ç­”ãˆåˆã‚ã›æ©Ÿèƒ½
- âœ… AIå•é¡Œç”ŸæˆUI

### UI/UX
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- âœ… å›ç­”è©³ç´°è¡¨ç¤º
- âœ… é€²æ—ãƒãƒ¼
- âœ… ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- âœ… ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ãƒ»ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- âœ… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºï¼ˆå‚åŠ æœŸé™ãƒ»ç­”ãˆç™ºè¡¨æ™‚åˆ»ï¼‰

## ğŸ”„ æœªå®Ÿè£…æ©Ÿèƒ½

- â³ Googleãƒãƒƒãƒ—é€£å‹•ã‚²ãƒ¼ãƒ 
- â³ ä¸–ç•Œãªã‚“ã§ã‚‚ã‚¯ã‚¤ã‚º
- â³ æ—¥æ›¿ã‚ã‚Šå•é¡Œé…ä¿¡æ©Ÿèƒ½
- â³ ã‚¤ãƒ™ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½
- â³ å•é¡Œã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- â³ ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªçµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- â³ ãƒ¡ãƒ¼ãƒ«é€šçŸ¥æ©Ÿèƒ½
- â³ ã‚«ã‚¹ã‚¿ãƒ ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°

## ğŸ¯ æ¨å¥¨ã•ã‚Œã‚‹æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤**
   - Cloudflare D1æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ
   - Cloudflare Pagesã¸ãƒ‡ãƒ—ãƒ­ã‚¤
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–**
   - ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆbcryptï¼‰
   - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®å®Ÿè£…
   - CSRFå¯¾ç­–

3. **å•é¡Œæ•°ã®æ‹¡å……**
   - ç¾åœ¨50å• â†’ 100å•ä»¥ä¸Šã«æ‹¡å¤§
   - ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ã«å•é¡Œã‚’åˆ†é¡

4. **çµ±è¨ˆæ©Ÿèƒ½ã®è¿½åŠ **
   - ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
   - å•é¡Œåˆ¥æ­£ç­”ç‡
   - æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿åˆ†æ

5. **è¿½åŠ ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã®å®Ÿè£…**
   - Googleãƒãƒƒãƒ—é€£å‹•æ©Ÿèƒ½
   - æ—¥æ›¿ã‚ã‚Šã‚¯ã‚¤ã‚ºæ©Ÿèƒ½

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
webapp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.tsx              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰
â”‚   â””â”€â”€ api.tsx                # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆç®¡ç†è€…ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
â”œâ”€â”€ public/
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ app.js             # ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚       â””â”€â”€ admin.js           # ç®¡ç†è€…ç”»é¢ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ 0001_initial_schema.sql    # åˆæœŸã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ 0002_multimode_support.sql # ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
â”œâ”€â”€ seed.sql                   # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆ50å•ï¼‰
â”œâ”€â”€ ecosystem.config.cjs       # PM2è¨­å®š
â”œâ”€â”€ wrangler.jsonc            # Cloudflareè¨­å®š
â”œâ”€â”€ package.json              # ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md                 # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ”§ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ãƒ¦ãƒ¼ã‚¶ãƒ¼API

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | `/api/events/active` | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¤ãƒ™ãƒ³ãƒˆå–å¾— |
| POST | `/api/auth/login` | ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»ç™»éŒ² |
| GET | `/api/events/:eventId/questions` | å•é¡Œå–å¾—ï¼ˆé–‹å§‹æ™‚é–“è¨˜éŒ²ï¼‰ |
| POST | `/api/events/:eventId/submit` | å›ç­”é€ä¿¡ï¼ˆæ¡ç‚¹ãƒ»æ™‚é–“è¨˜éŒ²ï¼‰ |
| GET | `/api/events/:eventId/ranking/individual` | å€‹äººãƒ©ãƒ³ã‚­ãƒ³ã‚° |
| GET | `/api/events/:eventId/ranking/team` | ãƒãƒ¼ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚° |
| GET | `/api/events/:eventId/ranking/company` | ä¼æ¥­ãƒ©ãƒ³ã‚­ãƒ³ã‚° |
| GET | `/api/events/:eventId/result/:userId` | ãƒ¦ãƒ¼ã‚¶ãƒ¼çµæœå–å¾— |

### ç®¡ç†è€…API

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/admin/api/login` | ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ |
| GET | `/admin/api/events` | ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ |
| POST | `/admin/api/events` | ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ |
| PUT | `/admin/api/events/:id` | ã‚¤ãƒ™ãƒ³ãƒˆæ›´æ–° |
| DELETE | `/admin/api/events/:id` | ã‚¤ãƒ™ãƒ³ãƒˆå‰Šé™¤ |
| GET | `/admin/api/events/:eventId/questions` | å•é¡Œä¸€è¦§ |
| POST | `/admin/api/events/:eventId/questions` | å•é¡Œä½œæˆ |
| PUT | `/admin/api/questions/:id` | å•é¡Œæ›´æ–° |
| DELETE | `/admin/api/questions/:id` | å•é¡Œå‰Šé™¤ |
| GET | `/admin/api/events/:eventId/participants` | å‚åŠ è€…ä¸€è¦§ |
| POST | `/admin/api/prediction/questions/:questionId/verify` | äºˆæ¸¬å•é¡Œã®ç­”ãˆåˆã‚ã› |

### AI API ğŸ¤–

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/admin/api/ai/verify-prediction` | AIæŸ”è»Ÿåˆ¤å®šï¼ˆè¨˜å…¥å¼å›ç­”ã‚’æŸ”è»Ÿã«è©•ä¾¡ï¼‰ |
| POST | `/admin/api/ai/generate-prediction-questions` | AIå•é¡Œç”Ÿæˆï¼ˆãƒ†ãƒ¼ãƒã‹ã‚‰äºˆæ¸¬å•é¡Œã‚’è‡ªå‹•ç”Ÿæˆï¼‰ |
| POST | `/admin/api/ai/generate-questions` | AIå•é¡Œç”Ÿæˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰4æŠå•é¡Œã‚’è‡ªå‹•ç”Ÿæˆï¼‰ |

### ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³API ğŸ®

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | `/api/gamification/users/:userId/points` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¤ãƒ³ãƒˆå–å¾— |
| GET | `/api/gamification/users/:userId/badges` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒƒã‚¸å–å¾— |
| GET | `/api/gamification/users/:userId/statistics` | ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆå–å¾— |
| GET | `/api/gamification/leaderboard/:type` | ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—ï¼ˆtotal/weekly/monthlyï¼‰ |

## ğŸ“ é–‹ç™ºãƒ¡ãƒ¢

### å•é¡ŒæŒ¯ã‚Šåˆ†ã‘ãƒ­ã‚¸ãƒƒã‚¯
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®æœ«å°¾1æ¡ã§è‡ªå‹•æŒ¯ã‚Šåˆ†ã‘ï¼ˆ0-9ï¼‰
- å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç•°ãªã‚‹å•é¡Œç¾¤ã‹ã‚‰å‡ºé¡Œã•ã‚Œã‚‹ãŸã‚ã‚«ãƒ³ãƒ‹ãƒ³ã‚°ä¸å¯

### ãƒ©ãƒ³ã‚­ãƒ³ã‚°é›†è¨ˆ
- **å€‹äºº**: ã‚¹ã‚³ã‚¢ â†’ å›ç­”æ™‚é–“ â†’ å®Œäº†æ™‚åˆ»ã®é †ã§ä¸¦ã¹æ›¿ãˆ
- **ãƒãƒ¼ãƒ /ä¼æ¥­**: å¹³å‡æ­£ç­”ç‡ â†’ å¹³å‡å›ç­”æ™‚é–“ã®é †ã§ä¸¦ã¹æ›¿ãˆ
- æœ€ä½å‚åŠ äººæ•°ã«æº€ãŸãªã„ã‚°ãƒ«ãƒ¼ãƒ—ã¯éè¡¨ç¤º

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ç¾åœ¨ã®ç®¡ç†è€…èªè¨¼ã¯ç°¡æ˜“ç‰ˆï¼ˆå¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
- æœ¬ç•ªç’°å¢ƒã§ã¯bcryptã«ã‚ˆã‚‹ãƒãƒƒã‚·ãƒ¥åŒ–ãŒå¿…é ˆ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®å®Ÿè£…æ¨å¥¨

---

**é–‹ç™ºè€…**: Claude Code  
**æœ€çµ‚æ›´æ–°**: 2025-12-26  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0 (ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ)
